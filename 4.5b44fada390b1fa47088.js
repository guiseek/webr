(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"Te/E":function(t,e,o){"use strict";o.r(e),o.d(e,"TodoModule",function(){return Y});var s=o("iInd"),c=o("na2Z"),i=o("s7LF"),n=o("8Y7J"),r=o("IheW");const a="api/todos/";let d=(()=>{class t{constructor(t){this.http=t}getTodos(){return this.http.get(a)}createTodo(t){return this.http.post(a,t)}updateTodo(t){return this.http.put(a+t.id,t)}deleteTodo(t){return this.http.delete(a+t.id)}}return t.\u0275fac=function(e){return new(e||t)(n.Xb(r.b))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=o("lJxs"),b=o("UXun"),u=o("2Vo4"),p=o("/uUt");class f{}const h={todos:[],selectedTodoId:void 0,filter:{search:"",category:{isBusiness:!1,isPrivate:!1}}};let T=(()=>{class t extends class{constructor(t){this.state$=new u.a(t)}get state(){return this.state$.getValue()}select(t){return this.state$.asObservable().pipe(Object(l.a)(e=>t(e)),Object(p.a)())}setState(t){this.state$.next(Object.assign(Object.assign({},this.state),t))}}{constructor(t){super(h),this.apiService=t,this.todosFiltered$=this.select(t=>{return e=t.filter,t.todos.filter(t=>t.title.toUpperCase().indexOf(e.search.toUpperCase())>-1&&(!e.category.isBusiness||t.isBusiness)&&(!e.category.isPrivate||t.isPrivate));var e}),this.todosDone$=this.todosFiltered$.pipe(Object(l.a)(t=>t.filter(t=>t.isDone))),this.todosNotDone$=this.todosFiltered$.pipe(Object(l.a)(t=>t.filter(t=>!t.isDone))),this.filter$=this.select(t=>t.filter),this.selectedTodo$=this.select(t=>0===t.selectedTodoId?new f:t.todos.find(e=>e.id===t.selectedTodoId)).pipe(Object(b.a)({refCount:!0,bufferSize:1})),this.load()}selectTodo(t){this.setState({selectedTodoId:t.id})}initNewTodo(){this.setState({selectedTodoId:0})}clearSelectedTodo(){this.setState({selectedTodoId:void 0})}updateFilter(t){this.setState({filter:Object.assign(Object.assign({},this.state.filter),t)})}load(){this.apiService.getTodos().subscribe(t=>this.setState({todos:t}))}create(t){this.apiService.createTodo(t).subscribe(t=>{this.setState({todos:[...this.state.todos,t],selectedTodoId:t.id})})}update(t){this.apiService.updateTodo(t).subscribe(e=>{this.setState({todos:this.state.todos.map(o=>o.id===t.id?e:o)})})}delete(t){this.apiService.deleteTodo(t).subscribe(()=>{this.setState({selectedTodoId:void 0,todos:this.state.todos.filter(e=>e.id!==t.id)})})}}return t.\u0275fac=function(e){return new(e||t)(n.Xb(d))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),S=(()=>{class t{constructor(t){t.detach()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(n.h))},t.\u0275dir=n.Jb({type:t}),t})();const g=["webr","","unelevated",""],v=[[["webr-svg-icon"]],"*"],w=["webr-svg-icon","*"];let m=(()=>{class t extends S{}return t.\u0275fac=function(e){return y(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["button","webr","","unelevated",""],["a","webr","","unelevated",""]],features:[n.Ab],attrs:g,ngContentSelectors:w,decls:4,vars:0,consts:[[1,"webr-icon-slot"],[1,"webr-button-slot"]],template:function(t,e){1&t&&(n.hc(v),n.Tb(0,"span",0),n.gc(1),n.Sb(),n.Tb(2,"span",1),n.gc(3,1),n.Sb())},encapsulation:2,changeDetection:0}),t})();const y=n.Vb(m),k=["webr","","text",""],D=[[["webr-svg-icon"]],"*"],I=["webr-svg-icon","*"];let O=(()=>{class t extends S{}return t.\u0275fac=function(e){return $(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["button","webr","","text",""],["a","webr","","text",""]],features:[n.Ab],attrs:k,ngContentSelectors:I,decls:4,vars:0,consts:[[1,"webr-icon-slot"],[1,"webr-button-slot"]],template:function(t,e){1&t&&(n.hc(D),n.Tb(0,"span",0),n.gc(1),n.Sb(),n.Tb(2,"span",1),n.gc(3,1),n.Sb())},encapsulation:2,changeDetection:0}),t})();const $=n.Vb(O);var P=o("1G5W"),j=o("Kj3r"),x=o("I5Xj"),C=o("XNiG"),U=o("FUqk"),F=o("ygek"),N=o("Z5n+"),G=o("UnHg");let B=(()=>{class t{constructor(){this._destroy=new C.a,this.filterUpdate=new n.n,this.formGroup=new x.b({search:new x.a(""),category:new x.b({isBusiness:new x.a(!0),isPrivate:new x.a(!1)})})}set filter(t){this.formGroup.setValue(t,{emitEvent:!1})}ngOnInit(){this.formGroup.get("search").valueChanges.pipe(Object(P.a)(this._destroy),Object(j.a)(350)).subscribe(t=>{this.filterUpdate.emit(Object.assign(Object.assign({},this.formGroup.value),{search:t}))}),this.formGroup.get("category").valueChanges.pipe(Object(P.a)(this._destroy)).subscribe(t=>{this.filterUpdate.emit(Object.assign(Object.assign({},this.formGroup.value),{category:t}))})}ngOnDestroy(){this._destroy.next(),this._destroy.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["webr-filter"]],inputs:{filter:"filter"},outputs:{filterUpdate:"filterUpdate"},decls:14,vars:1,consts:[[1,"d-flex","m-0",3,"formGroup"],["webr",""],[1,"label"],["webr","","type","search","formControlName","search"],["formGroupName","category",1,"form-check"],["webr-label",""],["webr","","type","checkbox","formControlName","isBusiness"],["webr","","type","checkbox","formControlName","isPrivate"]],template:function(t,e){1&t&&(n.Tb(0,"form",0),n.Tb(1,"label",1),n.Tb(2,"span",2),n.uc(3,"Pesquisas tarefa"),n.Sb(),n.Pb(4,"input",3),n.Sb(),n.Tb(5,"div",4),n.Tb(6,"label",5),n.Pb(7,"input",6),n.Tb(8,"span",2),n.uc(9,"Neg\xf3cios"),n.Sb(),n.Sb(),n.Tb(10,"label",5),n.Pb(11,"input",7),n.Tb(12,"span",2),n.uc(13,"Privado"),n.Sb(),n.Sb(),n.Sb(),n.Sb()),2&t&&n.ic("formGroup",e.formGroup)},directives:[i.y,i.p,i.j,U.a,F.a,i.c,i.o,i.h,i.k,N.a,G.a,i.a],encapsulation:2,changeDetection:0}),t})();var M=o("SVse");function V(t,e){1&t&&(n.Tb(0,"mark"),n.uc(1,"Business"),n.Sb())}function _(t,e){1&t&&(n.Tb(0,"mark"),n.uc(1,"Private"),n.Sb())}const J=function(t){return{active:t}};function X(t,e){if(1&t){const t=n.Ub();n.Tb(0,"li",1),n.Tb(1,"a",2),n.ac("click",function(){n.oc(t);const o=e.$implicit;return n.dc().selectTodo.emit(o)}),n.uc(2),n.Sb(),n.sc(3,V,2,0,"mark",3),n.sc(4,_,2,0,"mark",3),n.Sb()}if(2&t){const t=e.$implicit,o=n.dc();n.ic("ngClass",n.kc(4,J,(null==o.selectedTodo?null:o.selectedTodo.id)===t.id)),n.Db(2),n.wc(" ",t.title," "),n.Db(1),n.ic("ngIf",t.isBusiness),n.Db(1),n.ic("ngIf",t.isPrivate)}}let q=(()=>{class t{constructor(){this.selectTodo=new n.n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["webr-todo-list"]],inputs:{todos:"todos",selectedTodo:"selectedTodo"},outputs:{selectTodo:"selectTodo"},decls:2,vars:1,consts:[[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["href","javascript:void(0)",3,"click"],[4,"ngIf"]],template:function(t,e){1&t&&(n.Tb(0,"ul"),n.sc(1,X,5,6,"li",0),n.Sb()),2&t&&(n.Db(1),n.ic("ngForOf",e.todos))},directives:[M.k,M.j,M.l],encapsulation:2}),t})();var A=o("wPhj"),E=o("tkdu"),K=o("lPny");function z(t,e){if(1&t){const t=n.Ub();n.Tb(0,"button",13),n.ac("click",function(){return n.oc(t),n.dc().delete()}),n.uc(1,"Apagar"),n.Sb()}}let L=(()=>{class t{constructor(t){this.todosService=t}ngOnInit(){}submit(t){const e=Object.assign(Object.assign({},this.todo),t.value);e.id?this.todosService.update(e):this.todosService.create(e)}delete(){this.todosService.delete(this.todo)}onClose(){this.todosService.clearSelectedTodo()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(T))},t.\u0275cmp=n.Ib({type:t,selectors:[["webr-todo-detail"]],inputs:{todo:"todo"},decls:33,vars:7,consts:[["type","button",3,"click"],["form","ngForm"],["webr",""],[1,"label"],["webr","","type","text","name","title","required","",3,"ngModel"],["webr","","for","text"],["key","error_outline"],["webr-label",""],["webr","","type","checkbox","name","isDone",3,"ngModel"],["webr","","type","checkbox","name","isBusiness",3,"ngModel"],["webr","","type","checkbox","name","isPrivate",3,"ngModel"],[3,"disabled","click"],[3,"click",4,"ngIf"],[3,"click"]],template:function(t,e){if(1&t){const t=n.Ub();n.Tb(0,"header"),n.Tb(1,"span"),n.uc(2),n.Sb(),n.Tb(3,"button",0),n.ac("click",function(){return e.onClose()}),n.uc(4,"Fechar"),n.Sb(),n.Sb(),n.Tb(5,"section"),n.Tb(6,"form",null,1),n.Tb(8,"label",2),n.Tb(9,"span",3),n.uc(10,"Title"),n.Sb(),n.Pb(11,"input",4),n.Tb(12,"output",5),n.Pb(13,"webr-svg-icon",6),n.uc(14," Obrigat\xf3rio "),n.Sb(),n.Sb(),n.Tb(15,"label",7),n.Pb(16,"input",8),n.Tb(17,"span",3),n.uc(18,"Conclu\xedda"),n.Sb(),n.Sb(),n.Tb(19,"fieldset",2),n.Tb(20,"legend"),n.uc(21,"Categorias"),n.Sb(),n.Tb(22,"label",7),n.Pb(23,"input",9),n.Tb(24,"span",3),n.uc(25,"Neg\xf3cios"),n.Sb(),n.Sb(),n.Tb(26,"label",7),n.Pb(27,"input",10),n.Tb(28,"span",3),n.uc(29,"Privado"),n.Sb(),n.Sb(),n.Sb(),n.Tb(30,"button",11),n.ac("click",function(){n.oc(t);const o=n.mc(7);return e.submit(o)}),n.uc(31," Salvar "),n.Sb(),n.sc(32,z,2,0,"button",12),n.Sb(),n.Sb()}if(2&t){const t=n.mc(7);n.Db(2),n.vc(null!=e.todo&&e.todo.id?"Editar tarefa":"Criar tarefa"),n.Db(9),n.ic("ngModel",null==e.todo?null:e.todo.title),n.Db(5),n.ic("ngModel",!(null==e.todo||!e.todo.isDone)&&(null==e.todo?null:e.todo.isDone)),n.Db(7),n.ic("ngModel",!(null==e.todo||!e.todo.isBusiness)&&(null==e.todo?null:e.todo.isBusiness)),n.Db(4),n.ic("ngModel",!(null==e.todo||!e.todo.isPrivate)&&(null==e.todo?null:e.todo.isPrivate)),n.Db(3),n.ic("disabled",!t.valid||!t.dirty),n.Db(2),n.ic("ngIf",null==e.todo?null:e.todo.id)}},directives:[i.y,i.p,i.q,U.a,F.a,i.c,i.w,i.o,i.r,A.a,E.a,N.a,G.a,i.a,K.a,M.l],encapsulation:2}),t})();function W(t,e){1&t&&n.Pb(0,"webr-todo-detail",5),2&t&&n.ic("todo",e.ngIf)}function Z(t,e){1&t&&n.Pb(0,"webr-todo-detail",5),2&t&&n.ic("todo",e.ngIf)}let H=(()=>{class t{constructor(t){this.todosState=t,this.todosDone$=this.todosState.todosDone$,this.todosNotDone$=this.todosState.todosNotDone$,this.selectedTodo$=this.todosState.selectedTodo$,this.filter$=this.todosState.filter$}selectTodo(t){this.todosState.selectTodo(t)}addTodo(){this.todosState.initNewTodo()}onFilterUpdate(t){this.todosState.updateFilter(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(T))},t.\u0275cmp=n.Ib({type:t,selectors:[["webr-todo"]],decls:24,vars:21,consts:[["webr","","unelevated","",3,"click"],["webr","","text","",3,"click"],[3,"filter","filterUpdate"],[3,"todo",4,"ngIf"],[3,"todos","selectedTodo","selectTodo"],[3,"todo"]],template:function(t,e){1&t&&(n.Tb(0,"button",0),n.ac("click",function(){return e.addTodo()}),n.uc(1,"Nova"),n.Sb(),n.Tb(2,"a",1),n.ac("click",function(){return e.addTodo()}),n.uc(3,"Nova"),n.Sb(),n.Tb(4,"webr-filter",2),n.ac("filterUpdate",function(t){return e.onFilterUpdate(t)}),n.ec(5,"async"),n.Sb(),n.sc(6,W,1,1,"webr-todo-detail",3),n.ec(7,"async"),n.Tb(8,"article"),n.Tb(9,"section"),n.Tb(10,"h2"),n.uc(11,"Tarefas"),n.Sb(),n.Tb(12,"webr-todo-list",4),n.ac("selectTodo",function(t){return e.selectTodo(t)}),n.ec(13,"async"),n.ec(14,"async"),n.Sb(),n.Sb(),n.Tb(15,"section"),n.Tb(16,"h2"),n.uc(17,"Tarefa conclu\xeddas"),n.Sb(),n.Tb(18,"webr-todo-list",4),n.ac("selectTodo",function(t){return e.selectTodo(t)}),n.ec(19,"async"),n.ec(20,"async"),n.Sb(),n.Sb(),n.Sb(),n.Tb(21,"aside"),n.sc(22,Z,1,1,"webr-todo-detail",3),n.ec(23,"async"),n.Sb()),2&t&&(n.Db(4),n.ic("filter",n.fc(5,7,e.filter$)),n.Db(2),n.ic("ngIf",n.fc(7,9,e.selectedTodo$)),n.Db(6),n.ic("todos",n.fc(13,11,e.todosNotDone$))("selectedTodo",n.fc(14,13,e.selectedTodo$)),n.Db(6),n.ic("todos",n.fc(19,15,e.todosDone$))("selectedTodo",n.fc(20,17,e.selectedTodo$)),n.Db(4),n.ic("ngIf",n.fc(23,19,e.selectedTodo$)))},directives:[m,O,B,M.l,q,L],pipes:[M.b],encapsulation:2}),t})();o("FfVP");const R=[{path:"",component:H}];let Y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({imports:[[M.c,i.l,x.c,c.c.forRoot({icons:c.a,sizes:{md:"24px"}}),i.v,s.a.forChild(R)]]}),t})()}}]);